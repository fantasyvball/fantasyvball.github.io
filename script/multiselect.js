"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

!function(e){var t={};function n(s){if(t[s]){return t[s].exports}var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule){return e}var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e){for(var i in e){n.d(s,i,(function(t){return e[t]}).bind(null,i))}}return s},n.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/MultipleSelect.js")}({"./node_modules/events/events.js":function(e,t,n){"use strict";var s,i="object"==typeof Reflect?Reflect:null,r=i&&"function"==typeof i.apply?i.apply:function e(t,n,s){return Function.prototype.apply.call(t,n,s)};s=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function e(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function e(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function e(t){return t!=t};function l(){l.init.call(this)}e.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var h=10;function d(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function u(e,t,n,s){if("function"!=typeof n){throw TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}if(void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),r=e._events),o=r[t]),void 0===o){o=r[t]=n,++e._eventsCount}else if("function"==typeof o?o=r[t]=s?[n,o]:[o,n]:s?o.unshift(n):o.push(n),(i=d(e))>0&&o.length>i&&!o.warned){o.warned=!0;var i,r,o,l,h=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=o.length,l=h,console&&console.warn&&console.warn(l)}return e}function c(){for(var e=[],t=0;t<arguments.length;t+=1){e.push(arguments[t])}this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,r(this.listener,this.target,e))}function a(e,t,n){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(s);return i.listener=n,s.wrapFn=i,i}function p(e,t,n){var s=e._events;if(void 0===s){return[]}var i=s[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function e(t){for(var n=Array(t.length),s=0;s<n.length;s+=1){n[s]=t[s].listener||t[s]}return n}(i):v(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n){return 1}if(void 0!==n){return n.length}}return 0}function v(e,t){for(var n=Array(t),s=0;s<t;s+=1){n[s]=e[s]}return n}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e||e<0||o(e)){throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".")}h=e}}),l.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function e(t){if("number"!=typeof t||t<0||o(t)){throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".")}return this._maxListeners=t,this},l.prototype.getMaxListeners=function e(){return d(this)},l.prototype.emit=function e(t){for(var n=[],s=1;s<arguments.length;s+=1){n.push(arguments[s])}var i="error"===t,o=this._events;if(void 0!==o){i=i&&void 0===o.error}else if(!i){return!1}if(i){if(n.length>0&&(l=n[0]),l instanceof Error){throw l}var l,h=Error("Unhandled error."+(l?" ("+l.message+")":""));throw h.context=l,h}var d=o[t];if(void 0===d){return!1}if("function"==typeof d){r(d,this,n)}else{for(var u=d.length,c=v(d,u),s=0;s<u;s+=1){r(c[s],this,n)}}return!0},l.prototype.addListener=function e(t,n){return u(this,t,n,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function e(t,n){return u(this,t,n,!0)},l.prototype.once=function e(t,n){if("function"!=typeof n){throw TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}return this.on(t,a(this,t,n)),this},l.prototype.prependOnceListener=function e(t,n){if("function"!=typeof n){throw TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}return this.prependListener(t,a(this,t,n)),this},l.prototype.removeListener=function e(t,n){var s,i,r,o,l;if("function"!=typeof n){throw TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}if(void 0===(i=this._events)||void 0===(s=i[t])){return this}if(s===n||s.listener===n){0== --this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,s.listener||n))}else if("function"!=typeof s){for(r=-1,o=s.length-1;o>=0;o-=1){if(s[o]===n||s[o].listener===n){l=s[o].listener,r=o;break}}if(r<0){return this}0===r?s.shift():function e(t,n){for(;n+1<t.length;n+=1){t[n]=t[n+1]}t.pop()}(s,r),1===s.length&&(i[t]=s[0]),void 0!==i.removeListener&&this.emit("removeListener",t,l||n)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function e(t){var n,s,i;if(void 0===(s=this._events)){return this}if(void 0===s.removeListener){return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==s[t]&&(0== --this._eventsCount?this._events=Object.create(null):delete s[t]),this}if(0===arguments.length){var r,o=Object.keys(s);for(i=0;i<o.length;i+=1){"removeListener"!==(r=o[i])&&this.removeAllListeners(r)}return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=s[t])){this.removeListener(t,n)}else if(void 0!==n){for(i=n.length-1;i>=0;i-=1){this.removeListener(t,n[i])}}return this},l.prototype.listeners=function e(t){return p(this,t,!0)},l.prototype.rawListeners=function e(t){return p(this,t,!1)},l.listenerCount=function(e,t){return "function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},l.prototype.listenerCount=f,l.prototype.eventNames=function e(){return this._eventsCount>0?s(this._events):[]}},"./src/MultipleSelect.js":function(e,t,n){"use strict";n.r(t);var s=n("./src/components/Container.js"),i=n("./src/store/Store.js");n("./src/scss/multiple-select.scss");var r=0;class o{constructor(e,t){r+=1,this.$store=new i.a;let{el:n,select:o,isMultiple:l,items:h,selectedItems:d}=this._buildRootElement(e);this.$el=n,this.$select=o,this.$options={placeholder:"Select",...t},this.$store.isMultiple=l,this.$store.items=h,this.$store.selectedItems=d,this.$container=new s.a({root:this}),this.$store.on("selectedItemsChange",e=>{this.$select.querySelectorAll("option").forEach(t=>{e.find(e=>e.value===t.value)?t.setAttribute("selected",!0):t.removeAttribute("selected")}),e.length<1&&(this.$select.value="");let t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0);let n=document.createEvent("HTMLEvents");n.initEvent("input",!0,!0),this.$select.dispatchEvent(t),this.$select.dispatchEvent(n)});new MutationObserver(()=>{this.$el.classList.contains("opened")&&this.$container.$dropdownSelect.$input.focus()}).observe(this.$el,{attributes:!0,childList:!0})}_buildRootElement(e){let t=document.querySelector(e),n=document.createElement("div"),s=[],i=[];n.setAttribute("id",`multiple-select-container-${ r }`),n.style.position="relative",t.querySelectorAll("option").forEach(e=>{s.push({value:e.value,label:e.innerText.trim(),disabled:e.disabled})}),t.querySelectorAll("option[selected]").forEach(e=>{i.push({value:e.value,label:e.innerText.trim()})});let o=t.multiple;return t.insertAdjacentElement("afterend",n),t.hidden=!0,{select:t,el:n,isMultiple:o,items:s,selectedItems:i}}}window.MultipleSelect=o,t.default=o},"./src/components/Container.js":function(e,t,n){"use strict";var s=n("./src/components/dropdown/DropdownSelect.js"),i=n("./src/components/SelectButton.js");t.a=class e{constructor({root:e}){this.$root=e,this._buildButton(),this._buildDropdownSelect(),this.$button.render(),this._keyupEventListeners(),this.$root.$store.on("selectedItemsChange",()=>{this.$button.render()}),this.$root.$store.on("isOpenedChange",e=>{this.$button.render(),this._toggleDropdown()}),document.addEventListener("click",e=>{this.$root.$store.isOpened&&(this.$root.$el.contains(e.target)||(this.$root.$store.isOpened=!1))})}_buildButton(){this.$button=new i.a({root:this.$root}),this.$root.$el.appendChild(this.$button.el)}_buildDropdownSelect(){this.$dropdownSelect=new s.a({container:this})}_toggleDropdown(){this.$root.$store.isOpened?this.$root.$el.classList.add("opened"):this.$root.$el.classList.remove("opened")}_keyupEventListeners(){this.$root.$el.addEventListener("keyup",e=>{"Escape"===e.code&&(this.$root.$store.isOpened=!1)})}}},"./src/components/SearchInput.js":function(e,t,n){"use strict";t.a=class e{constructor({root:e,dropdownSelect:t}){this.$root=e,this.$dropdownSelect=t,this.render()}get el(){return this._inputContainer}focus(){this._input.focus()}_build(){this._input=document.createElement("input"),this._input.classList.add("form-control"),this._input.setAttribute("placeholder","Search"),this._input.setAttribute("type","text"),this._input.setAttribute("autofocus",!0),this._inputContainer=document.createElement("div"),this._inputContainer.classList.add("p-2"),this._inputContainer.appendChild(this._input),this._registerEventListeners()}_registerEventListeners(){this._input.addEventListener("keydown",e=>{if("ArrowUp"===e.code||"ArrowDown"===e.code||"Enter"===e.code){return e.preventDefault(),"ArrowUp"===e.code?null===this.$root.$store.hoveredItemIndex?this.$root.$store.hoveredItemIndex=this.$root.$store.items.length-1:this.$root.$store.hoveredItemIndex>0&&this.$root.$store.hoveredItemIndex-- :"ArrowDown"===e.code&&(null===this.$root.$store.hoveredItemIndex?this.$root.$store.hoveredItemIndex=0:this.$root.$store.hoveredItemIndex<this.$root.$store.items.length-1&&this.$root.$store.hoveredItemIndex++),!1}}),this._input.addEventListener("keyup",e=>{if("ArrowUp"!==e.code&&"ArrowDown"!==e.code&&(this.$root.$store.keyword=this._input.value),"Enter"===e.code&&null!==this.$root.$store.hoveredItemIndex){let t=this.$root.$store.filteredItems[this.$root.$store.hoveredItemIndex],n=this.$root.$store.selectedItems,s=n.findIndex(e=>e.value===t.value);s>-1?n.splice(s,1):this.$root.$store.isMultiple?n.push(t):(n=[t],this.$root.$store.isOpened=!1),this.$root.$store.selectedItems=n,console.log(t,{index:s})}})}render(){this._input||this._build()}}},"./src/components/SelectButton.js":function(e,t,n){"use strict";t.a=class e{constructor({root:e}){this.$root=e,this.render()}_build(){this._button=document.createElement("button"),this._button.classList.add("form-control","d-flex","justify-content-between","align-items-center"),this._button.setAttribute("type","button");let e=document.createElement("span");e.setAttribute("class","content"),e.innerText=this.$root.$options.placeholder||"Select";let t=document.createElement("span");t.classList.add("caret"),t.innerHTML="&#9662;",t.style.fontSize="70%",this._button.addEventListener("click",e=>{this.$root.$store.isOpened=!this.$root.$store.isOpened}),this._button.appendChild(e),this._button.appendChild(t)}get el(){return this._button}render(){this._button||this._build();let e=this.$root.$store.selectedItems,t=null;t=this.$root.$store.isMultiple&&e.length?`${e.length } selected`:e.length?e[0].label:this.$root.$options.placeholder||"Select",this._button.querySelector("span.content").innerText=t,this.$root.$store.isOpened?this._button.querySelector("span.caret").innerHTML="&#9652;":this._button.querySelector("span.caret").innerHTML="&#9662;"}}},"./src/components/dropdown/DropdownSelect.js":function(e,t,n){"use strict";var s=n("./src/components/SearchInput.js"),i=n("./src/components/dropdown/Item.js");t.a=class e{constructor({container:e}){this.$container=e,this.$dropdownSelect=null,this.$ulElement=null,this.$input=null,this.$optionItems=[],this._buildDropdownSelect(),this._eventListeners(),this._buildSearchInput(),this._buildOptionItems(),this._rerenderOptionsItems()}_buildDropdownSelect(){this.$dropdownSelect=document.createElement("div"),this.$dropdownSelect.classList.add("dropdown-select","bg-white","shadow"),this.$container.$root.$el.appendChild(this.$dropdownSelect)}_buildSearchInput(){this.$input=new s.a({root:this.$container.$root,dropdownSelect:this}),this.$dropdownSelect.appendChild(this.$input.el),this.$input.render()}_buildOptionItems(){let e=this.$ulElement;for(this.$optionItems=[],e||((e=document.createElement("ul")).classList.add("list-group","mt-0"),this.$dropdownSelect.appendChild(e),this.$ulElement=e);e.lastChild;){e.removeChild(e.lastChild)}if(this.filteredItems.forEach((t,n)=>{let s=new i.a({root:this.$container.$root,dropdownSelect:this,item:t,index:n});this.$optionItems.push(s),e.appendChild(s.el)}),this.filteredItems.length<1){let t=document.createElement("li");t.classList.add("list-group-item","d-flex","flex-row","justify-content-between","p-2","rounded-0","list-group-item-secondary"),t.innerText="No items.",e.appendChild(t)}}_rerenderOptionsItems(){this.$optionItems.forEach(e=>{e.render()}),this._setDropdownMaxHeight()}_setDropdownMaxHeight(){let e=this.$dropdownSelect.getBoundingClientRect().y,t=window.innerHeight-e-10;t-=this.$input.el.clientHeight,this.$ulElement.style.maxHeight=`${ t }px`}_eventListeners(){window.addEventListener("resize",this._onWindowResize.bind(this)),window.addEventListener("scroll",this._onWindowResize.bind(this)),this.$container.$root.$store.on("isOpenedChange",e=>{e&&setTimeout(()=>{this._setDropdownMaxHeight()},100)}),this.$container.$root.$store.on("keywordChange",()=>{this._buildOptionItems(),this._rerenderOptionsItems()}),this.$container.$root.$store.on("selectedItemsChange",()=>{this._rerenderOptionsItems()}),this.$container.$root.$store.on("hoveredItemIndexChange",e=>{this._rerenderOptionsItems()})}_onWindowResize(e){this.$container.$root.$store.isOpened&&this._setDropdownMaxHeight()}get filteredItems(){return this.$container.$root.$store.filteredItems}}},"./src/components/dropdown/Item.js":function(e,t,n){"use strict";t.a=class e{constructor({root:e,dropdownSelect:t,item:n,index:s}){this.$root=e,this.$dropdownSelect=t,this._item=n,this._index=s,this.build(),this.render()}get el(){return this._li}build(){let e=this.$root.$store;this._li=document.createElement("li"),this._li.classList.add("list-group-item","d-flex","flex-row","justify-content-between","p-2","rounded-0"),this._item.disabled&&this._li.classList.add("disabled"),this._li.setAttribute("value",this._item.value),this._li.innerText=this._item.label,this._li.addEventListener("click",t=>{let n=e.selectedItems,s=t.currentTarget,i=n.findIndex(e=>e.value===s.getAttribute("value"));i>-1?n.splice(i,1):e.isMultiple?n.push({value:s.getAttribute("value"),label:s.innerText}):(n=[{value:s.getAttribute("value"),label:s.innerText}],e.isOpened=!1),e.selectedItems=n})}render(){let e=this.$root.$store;e.selectedItems.find(e=>e.value===this._li.getAttribute("value"))?this._li.classList.add("list-group-item-primary"):this._li.classList.remove("list-group-item-primary"),this._index===e.hoveredItemIndex?this._li.classList.add("hover"):this._li.classList.remove("hover")}}},"./src/scss/multiple-select.scss":function(e,t,n){},"./src/store/Store.js":function(e,t,n){"use strict";var s=n("./node_modules/events/events.js"),i=n.n(s);class r extends i.a{get isMultiple(){return this._isMultiple||!1}set isMultiple(e){this._isMultiple=e}get isOpened(){return this._isOpened||!1}set isOpened(e){this._isOpened=e,this.emit("isOpenedChange",e)}get items(){return this._items||[]}set items(e){this._items=e,this.emit("itemsChange",e)}get filteredItems(){return this._items.filter(e=>!this._keyword||e.label.toLowerCase().includes(this._keyword.toLowerCase()))}get selectedItems(){return this._selectedItems||[]}set selectedItems(e){this._selectedItems=e,this.emit("selectedItemsChange",e)}get keyword(){return this._keyword||""}set keyword(e){this.keyword!==e.trim()&&(this._keyword=e.trim(),this._hoveredItemIndex=null,console.log("keywordChange"),this.emit("keywordChange",e))}get hoveredItemIndex(){return this._hoveredItemIndex||0===this._hoveredItemIndex?this._hoveredItemIndex:null}set hoveredItemIndex(e){this._hoveredItemIndex=e,this.emit("hoveredItemIndexChange",e)}}t.a=r}});
