export default{template:'<div class="container"><div class="alert alert-info mt-3 position-relative" role="alert">ğŸš§ ğŸš§ ğŸš§ This page is currently under construction! We appreciate your understanding and would love to hear your feedback as we continue to develop and improve it! ğŸ‘·ğŸ‘·ğŸ‘·</div><h1>Leaderboard</h1><div class="btn-group mb-3" role="group"><button v-for="btn in buttons" :key="btn.value" type="button" class="btn btn-outline-primary" :class="{ active: btn.value === selectedButton }" :disabled="btn.value === selectedButton" @click="updateRanking(btn.value)">{{ btn.label }}</button></div><div class="row"><div class="col-lg-6"><div class="card mb-3" v-for="(player, index) in getCurrentPagePlayers" :key="player.name" :class="getPlayerCardClass(player)"><div class="card-body"><div style="position:absolute;top:0;right:0"><button class="btn btn-primary me-2" @click="viewRoster(player)">view roster</button></div><h5 class="card-title">Rank {{ player.rank }}: {{ relabel(player) }}</h5><div class="card-text"><p>Points: {{ calcPoints(player) }}</p><p>Most Points in a Week: {{ calcMost(player) }}</p><p>Favorite Team: {{ player.favoriteTeam }}</p></div></div></div></div></div><nav v-if="totalPages > 1" class="mt-4"><ul class="pagination justify-content-center"><li class="page-item" :class="{ disabled: currentPage === 1 }"><a class="page-link" @click.prevent="changePage(currentPage - 1)" href="#">Previous</a></li><li v-for="page in totalPages" :key="page" class="page-item" :class="{ active: currentPage === page }"><a class="page-link" @click.prevent="changePage(page)" href="#">{{ page }}</a></li><li class="page-item" :class="{ disabled: currentPage === totalPages }"><a class="page-link" @click.prevent="changePage(currentPage + 1)" href="#">Next</a></li></ul></nav></div>',data:()=>({selectedButton:"globalCumulative",players:[{name:"Audrey spiderman meme",id:0,favoriteTeam:"UC Irvine",weeklyPoints:[30,40,20,50,45,35,60]},{name:"Freshmen Rule!",id:1,favoriteTeam:"unknown",weeklyPoints:[15,25,30,20,40,30,35]},{name:"The Big A",id:2,favoriteTeam:"unknown",weeklyPoints:[10,20,15,25,30,40,50]},{name:"WHAT!!",id:3,favoriteTeam:"unknown",weeklyPoints:[25,35,40,15,20,25,30]},{name:"The Big O",id:4,favoriteTeam:"Oreogon",weeklyPoints:[20,30,25,35,40,20,25]},{name:"The Tall Gals",id:5,favoriteTeam:"Texas",weeklyPoints:[40,50,45,35,30,40,20]},{name:"UC Gang",id:6,favoriteTeam:"UCLA",weeklyPoints:[30,40,20,50,45,35,60]},{name:"Party Animal",id:7,favoriteTeam:"unknown",weeklyPoints:[15,25,30,20,40,30,35]}],friends:["All Audrey ;)","The Big O","A why not?"],currentPage:1,pageSize:5}),computed:{buttons:()=>window.user?[{label:"Global Cumulative",value:"globalCumulative"},{label:"Global Weekly",value:"globalWeekly"},{label:"Friend Cumulative",value:"friendCumulative"},{label:"Friend Weekly",value:"friendWeekly"}]:[{label:"Global Cumulative",value:"globalCumulative"},{label:"Global Weekly",value:"globalWeekly"}],rankedPlayers(){let e=[];switch(this.selectedButton){case"friendCumulative":e=this.rankPlayersByPoints(this.filterFriends());break;case"friendWeekly":e=this.rankPlayersByWeeklyPoints(this.filterFriends());break;case"globalCumulative":default:e=this.rankPlayersByPoints(this.players);break;case"globalWeekly":e=this.rankPlayersByWeeklyPoints(this.players)}return e},currentUserID:()=>(window.user,""),totalPages(){return Math.ceil(this.rankedPlayers.length/this.pageSize)},getCurrentPagePlayers(){const e=(this.currentPage-1)*this.pageSize,a=e+this.pageSize;return this.rankedPlayers.slice(e,a)}},methods:{getPlayerCardClass(e){return{"bg-primary":e.id===this.currentUserID,"text-white":e.id===this.currentUserID}},relabel(e){return e.id===this.currentUserID?"You":e.name},updateRanking(e){this.selectedButton=e,this.currentPage=1},filterFriends(){return this.players.filter((e=>this.friends.includes(e.name)||e.id==this.currentUserID))},rankPlayersByPoints(e){return e.slice().sort(((e,a)=>this.calcPoints(a)-this.calcPoints(e))).map(((e,a)=>({...e,rank:a+1})))},rankPlayersByWeeklyPoints(e){return e.slice().sort(((e,a)=>this.calcMost(a)-this.calcMost(e))).map(((e,a)=>({...e,rank:a+1})))},calcPoints(e){return"globalcumulative"===this.selectedButton.toLowerCase()||"friendcumulative"===this.selectedButton.toLowerCase()?e.weeklyPoints.reduce(((e,a)=>e+a),0):e.weeklyPoints[e.weeklyPoints.length-1]},calcMost:e=>Math.max.apply(Math,e.weeklyPoints),changePage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e)},viewRoster(e){this.$router.push({path:"/user/"+e.name})}}};
